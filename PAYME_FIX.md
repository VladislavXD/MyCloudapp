# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å Payme ‚úÖ

## –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. –§–æ—Ä–º–∞—Ç URL –¥–ª—è Payme
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `return_url` –≤ URL
- ‚úÖ –£–±—Ä–∞–Ω–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ URL –≤–Ω—É—Ç—Ä–∏ base64
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è Merchant ID (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 24 —Å–∏–º–≤–æ–ª–∞)

### 2. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞—Ç–µ–∂–∞
- ‚úÖ –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ –∫ Payme
- ‚úÖ –ú–æ–∂–Ω–æ –ª–µ–≥–∫–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã

### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –£–ª—É—á—à–µ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º
- ‚úÖ –ë–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ –∫–æ–Ω—Å–æ–ª–∏

### 4. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Payme ([backend/docs/PAYME_SETUP.md](backend/docs/PAYME_SETUP.md))
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é ([backend/docs/PAYME_TESTING.md](backend/docs/PAYME_TESTING.md))
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç ([backend/test-payme-callback.js](backend/test-payme-callback.js))

## –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞

‚ö†Ô∏è **Merchant ID –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –≤ —Å–∏—Å—Ç–µ–º–µ Payme**

–¢–µ–∫—É—â–∏–π Merchant ID –≤ `.env`:
```
PAYME_MERCHANT_ID=65b78f9f3c319dec9d89218f
```

–≠—Ç–æ —Ç–µ—Å—Ç–æ–≤—ã–π ID, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏–ª–∏ –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –≤ Payme. –ü–æ—ç—Ç–æ–º—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞ Payme –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É `[object Object]`.

## –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

### –í–∞—Ä–∏–∞–Ω—Ç 1: –î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω (—Ä–µ–∞–ª—å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏)

1. **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –≤ Payme**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://business.paycom.uz
   - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –±–∏–∑–Ω–µ—Å-–∞–∫–∫–∞—É–Ω—Ç
   - –ü—Ä–æ–π–¥–∏—Ç–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é (–Ω—É–∂–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç—ã –∫–æ–º–ø–∞–Ω–∏–∏)

2. **–ü–æ–ª—É—á–∏—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏**
   - Merchant ID (24 —Å–∏–º–≤–æ–ª–∞)
   - Secret Key

3. **–û–±–Ω–æ–≤–∏—Ç–µ `.env`**
   ```bash
   PAYME_MERCHANT_ID=your_real_merchant_id
   PAYME_SECRET_KEY=your_real_secret_key
   ```

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Callback URL –≤ Payme**
   ```
   https://apibilling.mycloud.uz/api/payments/payme/callback
   ```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π)

1. **–ü–æ–ª—É—á–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π Merchant ID –æ—Ç Payme**
   - –°–≤—è–∂–∏—Ç–µ—Å—å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Payme
   - –ó–∞–ø—Ä–æ—Å–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ —Ç–µ—Å—Ç–æ–≤–æ–º—É –æ–∫—Ä—É–∂–µ–Ω–∏—é

2. **–û–±–Ω–æ–≤–∏—Ç–µ `.env`**
   ```bash
   PAYME_URL=https://test.paycom.uz
   PAYME_MERCHANT_ID=test_merchant_id
   PAYME_SECRET_KEY=test_secret_key
   ```

3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã**
   - –ù–æ–º–µ—Ä: 8600 4954 0000 0031
   - –°—Ä–æ–∫: 03/99
   - –°–ú–° –∫–æ–¥: 666666

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ Merchant ID:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞**
   ```bash
   npm start
   ```
   
   –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–ª–∞—Ç–µ–∂–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ:
   ```
   üí≥ Creating Payme payment:
      Order ID: 14
      Amount: 65000 UZS (6500000 tiyin)
      Merchant ID: your_merchant_id (length: 24)
      ...
   üîó Payme Checkout URL Generated:
      Full URL: https://checkout.paycom.uz/...
   ```

2. **–°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞—Ç–µ–∂**
   - –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
   - –í—ã–±–µ—Ä–∏—Ç–µ VPS –ø–ª–∞–Ω
   - –ù–∞–∂–º–∏—Ç–µ "–û–ø–ª–∞—Ç–∏—Ç—å —á–µ—Ä–µ–∑ Payme"
   - –î–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ Payme –ë–ï–ó –æ—à–∏–±–∫–∏

3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ callback**
   ```bash
   cd backend
   node test-payme-callback.js 14 65000
   ```
   
   –í—Å–µ —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–π—Ç–∏ —É—Å–ø–µ—à–Ω–æ.

## –ö–æ–Ω—Ç–∞–∫—Ç—ã Payme

–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π:

- üìß Email: support@paycom.uz
- üìû –¢–µ–ª–µ—Ñ–æ–Ω: +998 78 150 00 00
- üí¨ Telegram: @PaycomSupport
- üåê –°–∞–π—Ç: https://paycom.uz

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Payme API](https://developer.help.paycom.uz)
- [–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞—Ç–µ–∂–µ–π](https://developer.help.paycom.uz/initsializatsiya-platezhey)
- [Merchant API –º–µ—Ç–æ–¥—ã](https://developer.help.paycom.uz/metody-merchant-api)

---

## –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

‚úÖ –ö–æ–¥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ  
‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ Merchant ID  
üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞  
üß™ –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –≥–æ—Ç–æ–≤  

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ Merchant ID –≤ Payme, –ø–ª–∞—Ç–µ–∂–∏ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!
