# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Payme Integration

## –ü—Ä–æ–±–ª–µ–º–∞: "–ë–∞–Ω–∫–æ–≤—Å–∫–∏–π –ø–ª–∞—Ç–µ–∂–Ω—ã–π –∏–Ω—Ç–µ–≥—Ä–∞—Ç–æ—Ä [object Object]"

–ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ —ç—Ç—É –æ—à–∏–±–∫—É –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ Payme, —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —á—Ç–æ Merchant ID –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–ª–∏ –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –≤ —Å–∏—Å—Ç–µ–º–µ Payme.

## –ü—Ä–∏—á–∏–Ω—ã –æ—à–∏–±–∫–∏

1. **Merchant ID –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω** - ID —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –∞–∫–∫–∞—É–Ω—Ç –Ω–µ –ø—Ä–æ—à–µ–ª –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é –≤ Payme
2. **–ù–µ–≤–µ—Ä–Ω—ã–π Merchant ID** - ID –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ —Å–∏—Å—Ç–µ–º–µ Payme
3. **–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤** - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º Payme API
4. **–¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º** - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–µ—Å—Ç–æ–≤—ã–π ID –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## –ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Merchant ID

–û—Ç–∫—Ä–æ–π—Ç–µ `backend/.env` –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
```bash
PAYME_MERCHANT_ID=65b78f9f3c319dec9d89218f  # –î–æ–ª–∂–µ–Ω –±—ã—Ç—å 24 —Å–∏–º–≤–æ–ª–∞
PAYME_SECRET_KEY=n1qqWene%o6TTaorOPyk3M#wiqqRuCbTJoZD
```

Merchant ID –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:
- –†–æ–≤–Ω–æ 24 —Å–∏–º–≤–æ–ª–∞ (–ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- –ü–æ–ª—É—á–µ–Ω –æ—Ç Payme –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∞–∫–∫–∞—É–Ω—Ç–∞
- –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ Payme

### –®–∞–≥ 2: –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –≤ Payme

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://business.paycom.uz
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –±–∏–∑–Ω–µ—Å-–∞–∫–∫–∞—É–Ω—Ç
3. –ü—Ä–æ–π–¥–∏—Ç–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é (—Ç—Ä–µ–±—É—é—Ç—Å—è –¥–æ–∫—É–º–µ–Ω—Ç—ã –∫–æ–º–ø–∞–Ω–∏–∏)
4. –ü–æ—Å–ª–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–æ–ª—É—á–∏—Ç–µ:
   - Merchant ID (24 —Å–∏–º–≤–æ–ª–∞)
   - Secret Key

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ callback URL –≤ Payme

–í –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ Payme —É–∫–∞–∂–∏—Ç–µ:
```
Callback URL: https://apibilling.mycloud.uz/api/payments/payme/callback
```

### –®–∞–≥ 4: –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π:

1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π Merchant ID –æ—Ç Payme
2. –ò–∑–º–µ–Ω–∏—Ç–µ URL –≤ `.env`:
```bash
PAYME_URL=https://test.paycom.uz  # –¢–µ—Å—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä
```

3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã:
   - –ö–∞—Ä—Ç–∞: 8600 4954 0000 0031
   - –°—Ä–æ–∫: 03/99
   - SMS –∫–æ–¥: 666666

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞—Ç–µ–∂–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏ –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –ª–æ–≥–∏:
```
üí≥ Creating Payme payment:
   Order ID: 14
   Amount: 65000 UZS (6500000 tiyin)
   Merchant ID: 65b78f9f3c319dec9d89218f (length: 24)
   Return URL: https://billing.mycloud.uz/payment-success
   ...
```

–ï—Å–ª–∏ –ª–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –æ—à–∏–±–∫–∏ - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é.

## –§–æ—Ä–º–∞—Ç Payme URL

–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:
```
m={merchant_id};ac.order_id={order_id};a={amount_in_tiyin};c={return_url}
```

–ü—Ä–∏–º–µ—Ä:
```
m=65b78f9f3c319dec9d89218f;ac.order_id=14;a=6500000;c=https://billing.mycloud.uz/payment-success
```

–≠—Ç–∞ —Å—Ç—Ä–æ–∫–∞ –∫–æ–¥–∏—Ä—É–µ—Ç—Å—è –≤ base64 –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫ URL:
```
https://checkout.paycom.uz/{base64_params}
```

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Payme

- –°–∞–π—Ç: https://paycom.uz
- –¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞: support@paycom.uz
- –¢–µ–ª–µ—Ñ–æ–Ω: +998 78 150 00 00
- Telegram: @PaycomSupport

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Payme API](https://developer.help.paycom.uz)
- [Merchant API](https://developer.help.paycom.uz/metody-merchant-api)
- [–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞—Ç–µ–∂–µ–π](https://developer.help.paycom.uz/initsializatsiya-platezhey)

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å—É–º–º–µ

- –ú–∏–Ω–∏–º—É–º: 1 UZS (100 tiyin)
- –ú–∞–∫—Å–∏–º—É–º: 999,999,999 UZS
- –¢–æ—á–Ω–æ—Å—Ç—å: —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞ (–æ–∫—Ä—É–≥–ª—è—é—Ç—Å—è)

## –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –≤ –ø—Ä–æ–¥–∞–∫—à–Ω

- [ ] –ê–∫–∫–∞—É–Ω—Ç –≤ Payme –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –∏ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω
- [ ] Merchant ID –∏ Secret Key —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ `.env`
- [ ] Callback URL –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ Payme
- [ ] Return URL —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω (–Ω–µ localhost)
- [ ] –ü—Ä–æ–≤–µ–¥–µ–Ω —Ç–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞—Ç–µ–∂
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ callback (—Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ "paid")
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: Merchant ID `65b78f9f3c319dec9d89218f` –≤ `.env` - —ç—Ç–æ —Ç–µ—Å—Ç–æ–≤—ã–π ID. 
–î–ª—è —Ä–∞–±–æ—Ç—ã –≤ –ø—Ä–æ–¥–∞–∫—à–Ω –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π ID –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ Payme.
